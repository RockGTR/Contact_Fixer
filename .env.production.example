# ============================================================
# CONTACT FIXER - PRODUCTION CONFIGURATION
# ============================================================
# Production environment configuration
# 
# ⚠️ SECURITY WARNING: Never commit this file to version control!
# Store securely and restrict access (chmod 600)
# ============================================================

# -----------------------------
# Environment Mode
# -----------------------------
ENVIRONMENT=production

# -----------------------------
# Backend Security Keys
# -----------------------------
# Generate with: ./scripts/generate_prod_keys.sh
# NEVER use development keys in production

JWT_SECRET_KEY=REPLACE_WITH_GENERATED_JWT_SECRET
ENCRYPTION_KEY=REPLACE_WITH_GENERATED_ENCRYPTION_KEY

# -----------------------------
# Google OAuth Credentials (PRODUCTION)
# -----------------------------
# Create SEPARATE OAuth clients for production
# Get from: https://console.cloud.google.com/apis/credentials

# Production Web OAuth Client ID
GOOGLE_WEB_CLIENT_ID=YOUR_PRODUCTION_WEB_CLIENT_ID.apps.googleusercontent.com

# Production Android OAuth Client ID  
GOOGLE_ANDROID_CLIENT_ID=YOUR_PRODUCTION_ANDROID_CLIENT_ID.apps.googleusercontent.com

# Desktop credentials file (backend Python script)
# File location: backend/credentials.json

# -----------------------------
# CORS & Security (PRODUCTION)
# -----------------------------
# Allowed origins - UPDATE with your production domain
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Production rate limiting (stricter than development)
RATE_LIMIT_PER_MINUTE=30

# -----------------------------
# Database Configuration
# -----------------------------
DATABASE_PATH=backend/contacts.db

# Enable automatic backups before migrations
AUTO_BACKUP=true

# -----------------------------
# Logging Configuration (PRODUCTION)
# -----------------------------
# Log level for production (less verbose)
LOG_LEVEL=WARNING

# Log directory
LOG_DIR=backend/logs

# Enable security audit logging
ENABLE_SECURITY_LOGS=true

# Enable log rotation (managed by logrotate)
LOG_ROTATION=true

# Max log file size (MB) - logrotate will handle rotation
MAX_LOG_SIZE_MB=100

# -----------------------------
# Performance & Scaling
# -----------------------------
# Number of worker processes (adjust based on server capacity)
WORKERS=2

# Keep-alive timeout (seconds)
KEEP_ALIVE=5

# Max request size (MB)
MAX_REQUEST_SIZE=10

# -----------------------------
# Security Headers (Production)
# -----------------------------
# Force HTTPS
HSTS_MAX_AGE=31536000

# Content Security Policy (adjust as needed)
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# -----------------------------
# Monitoring & Alerts (Optional)
# -----------------------------
# Email for security alerts (if configured)
# ADMIN_EMAIL=admin@yourdomain.com

# Sentry DSN for error tracking (if using Sentry)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# -----------------------------
# Backup Configuration
# -----------------------------
# Backup retention days
BACKUP_RETENTION_DAYS=7

# Backup directory
BACKUP_DIR=backups

# Encrypt backups (recommended)
ENCRYPT_BACKUPS=true

# Backup encryption key (separate from ENCRYPTION_KEY)
# BACKUP_ENCRYPTION_KEY=REPLACE_WITH_BACKUP_KEY

# -----------------------------
# Feature Flags (Production)
# -----------------------------
# Enable debug mode (NEVER enable in production)
DEBUG_MODE=false

# Enable verbose error messages (false for security)
VERBOSE_ERRORS=false

# Enable API documentation endpoint (consider disabling in production)
ENABLE_API_DOCS=false

# ============================================================
# DEPLOYMENT CHECKLIST
# ============================================================
# Before going live, ensure:
# [ ] JWT_SECRET_KEY and ENCRYPTION_KEY are generated
# [ ] CORS_ORIGINS updated with production domain
# [ ] Google OAuth clients configured for production
# [ ] ENVIRONMENT set to 'production'
# [ ] DEBUG_MODE set to 'false'
# [ ] File permissions set (chmod 600 .env)
# [ ] HTTPS configured (nginx/Caddy)
# [ ] Backups configured and tested
# [ ] Monitoring and alerts configured
# [ ] Security headers verified
# ============================================================
